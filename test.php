<?php

require_once 'vendor/autoload.php';

use Rsa\RsaPrivateEncryption;
$str = '{"id":210,"open_app_id":"9cb205db8f2a0680e96549854b5c90a1","publish_id":1027,"sdk_id":110,"operator_id":1000,"check_id":null,"game_id":151,"original_url":"https:\/\/static.sentsss.com\/o_1eeucvt4ll811cro11j118fl18l87.ipa","original_version":"1.3","original_size":"7.79","original_com_name":"Demo","name":"IOS\u5b88\u671b\u5148\u950b","hash":"llkWJKxo65g2ZMk6b8PKB8tNMIT7","com_name":"com.maowanios","package_url":"https:\/\/static.sentsss.com\/o_1eeucvt4ll811cro11j118fl18l87.ipa","game_version":"1.3","sdk_version":null,"icon":"https:\/\/static.sentsss.com\/icon1590566487258.png","verify_params":"","status":1,"pay_status":1,"package_type":2,"check_status":1,"os":2,"created_at":"2020-08-04 17:54:37","updated_at":"2020-08-05 13:59:43","contact_status":1,"contact_info":"12345699999","extension":{"id":107,"publish_id":1027,"package_id":210,"app_id":"210","app_key":"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQC\/PjRf\/qgNEk23KTVZAoKkossxRj6DjdrP1NooZiRswkEo\/LPm6cYYDxc\/ydIWjksm4PDofky+i0nJsrb+dZhmCcg7Cbv0WtvIdBkAsPNZ\/532uD+buS\/ECBGVeOR9xJYRkyqcLPOW6pxLCLL5JatVeYqTm0FU3SC5O5WZ1ub+1wIDAQAB","app_secret":"-----BEGIN PRIVATE KEY-----\nMIICdwIBADANBgkqhkiG9w0BAQEFAASCAmEwggJdAgEAAoGBAL8+NF\/+qA0STbcp\nNVkCgqSiyzFGPoON2s\/U2ihmJGzCQSj8s+bpxhgPFz\/J0haOSybg8Oh+TL6LScmy\ntv51mGYJyDsJu\/Ra28h0GQCw81n\/nfa4P5u5L8QIEZV45H3ElhGTKpws85bqnEsI\nsvklq1V5ipObQVTdILk7lZnW5v7XAgMBAAECgYA2j\/7NbJBxukkl+sHXtVmkszWZ\nx1rKmcxWA3qCkDHQPdPtZ7vEI+p6rsOJVYF1If\/bBc515qLqsj7JJw4Cp3ZlGBK1\nBnLtWCR23WUnRpZgUZhJaItNRIS1zovGqVOQKxxl3IWRRso3vdw1pSHneAFIapcY\n8GJVK5DWR8CV7Yl5gQJBAOOOKH7s1Dr5M3q0aKfdwOKuhPhAoB6f+5SJHCnPimmL\nyCDrckbFxAWvtXVeMNqNJVAN8TFO5k6ZJm5BNk0dvncCQQDXJgpr0AgtcS1ANEEg\na0sSr5oLugI0ltDeMa6NkN0jnCsJ+0jyNPagofIxR71zfznwe6CyIzTV6ntFuBfg\n3vqhAkEA2y4xeVf6cDdaS4V8DLy+rlj1AP2WfQkR1RdfxjH+mv0lrfe64cpZrjR5\nbuxj2A798qcLO7hIg0pmxuoPOKY+rwJBAMHx0tcZcyWzrn0AHe1hiw1PKuiDR1Ws\n1qBV3OpUumRNdSbMVRex0tk+45q09v1UpSA58cRjpE9pzrIsn6ngl8ECQEBjX2oW\n54bds\/VN3K2yu\/CG7z2tdWAnGD8WRmhqyezyn6WdGo9qoVtaslEZcy+JZXwUqu0f\nFSQOIXNuIB5dbxk=\n-----END PRIVATE KEY-----\n","cp_id":null,"cp_pay_id":null,"cp_pay_key":null,"cp_pay_private_key":null,"pay_config_ids":"120,122","parameters_1":"92724c567a0a6f681d7f5d23c7e1fd72","parameters_2":null,"parameters_3":null,"parameters_4":null,"parameters_5":null,"created_at":"2020-08-04 17:54:37","updated_at":"2020-08-05 13:58:34"}}';
$str = json_decode($str, true);
$privateKey = $str['extension']['app_secret'];
$content = "9746ad30463b16762c2c1de42d9aa2f2377680e82240419d52ae40876d55aef95e93dcc65f8636bf6de773b57e662d330a07942f0674d0b3fbee814c24ee77faed051210504c8510093bab994df9a50450923185ad4b52e04a68dc4c607642dcedb1d91d5d6b8dcafbd6050781ab30c03fafb0c8b5ecc81dac41096ae985c8b36f8ccb719861f16fd745b0f386ea692b08f09df983fb78058c6f582cc0ea7df48b1bcdd91bc0076747cd80fd41ede5f580e34a88e9a3edb42a0d8460ca0e9555e0d2e7cda1edef8133e49e4af2f77a41726eda2567f5da14189823bb6634617a0efc5a7817c2489458fb64b2599e3fcbe425af723986bd6013f77ca2259a4348";
$data = 'account=20200101&channel_id=2000&device_id=00000000-0000-0000-0000-000000000000&device_model=x86_64&device_version=iOS13.60&package_id=210&password=123456&source=2&uuid=3D1CF1E4-103E-4E16-8AF2-ACB0144FABAE';

$class = new RsaPrivateEncryption($data, $privateKey);
$result = $class->encryption();
print_r($result);